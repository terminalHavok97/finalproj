<!DOCTYPE html>
<html>
   <head>
     <title>Experiment</title>
     <script src="jspsych-6.0.1/jspsych.js"></script>
     <script src="jspsych-6.0.1/plugins/jspsych-html-keyboard-response.js"></script>
     <link href="jspsych-6.0.1/css/jspsych.css" rel="stylesheet" type="text/css"></link>
   </head>
   <body>
     <script type=text/javascript>
       var ws = new WebSocket("ws://localhost:3000/echo");

       ws.onopen = function(evt) {
         console.log("Websocket opened");
       };

       ws.onmessage = function(evt) {
         alert("Message received");
         ws.send("Reuturn message");
         alert("Message back sent!");
       };

       ws.onclose = function(evt) {
         console.log("Websocket closed");
       }

       ws.onerror = function(evt) {
         console.log("Error");
       };

       /*var welcome_block = {
           type: "html-keyboard-response",
           stimulus: "<h1>Welcome to the experiment. Press any key to continue</h1>"
       };

       var timeline = [];
       timeline.push(welcome_block);

       jsPsych.init({
           timeline: timeline
       })*/
     </script>
   </body>
 </html>
